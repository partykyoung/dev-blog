<!DOCTYPE html><html lang="ko" class="__variable_66f45d __variable_9320b3 __variable_c331f0"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/45cca0c1391027f2-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/47cbc4e2adbc5db9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c97d4358b5ad6f1f-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/b432f2368e6fb937.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/1b0517c55006ee9e.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ca8a8c70aedbb578.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/d3c42565bf5a0151.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-916d3cf9079c5391.js"/><script src="/_next/static/chunks/57e98ef8-25e167db504120c8.js" async=""></script><script src="/_next/static/chunks/552-57c01bdfec40c067.js" async=""></script><script src="/_next/static/chunks/main-app-4067f73eff77431b.js" async=""></script><script src="/_next/static/chunks/378-5bf6c9ea599618fb.js" async=""></script><script src="/_next/static/chunks/46-5e590dde3c59d1a1.js" async=""></script><script src="/_next/static/chunks/71-79248221d46a3079.js" async=""></script><script src="/_next/static/chunks/app/layout-f7cbf492592b1d12.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><header class="ohcd230"><div class="ohcd231"><a href="/"><img alt="dev.kyoungah.me" loading="lazy" decoding="async" data-nimg="1" class="ohcd232" style="color:transparent" sizes="100vw" srcSet="/_next/image?url=%2Fimages%2Flogo.png&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fimages%2Flogo.png&amp;w=3840&amp;q=75 3840w" src="/_next/image?url=%2Fimages%2Flogo.png&amp;w=3840&amp;q=75"/></a><nav><ul class="ohcd233"><li class="ohcd234"><a class="ohcd235" href="/tags"><img alt="Tags" loading="lazy" decoding="async" data-nimg="1" class="ohcd236" style="color:transparent" src="/svgs/tag.svg"/><span class="ohcd237">Tags</span></a></li><li class="ohcd234"><a class="ohcd235" href="/about"><img alt="About" loading="lazy" decoding="async" data-nimg="1" class="ohcd236" style="color:transparent" src="/svgs/person.svg"/><span class="ohcd237">About</span></a></li></ul></nav></div></header><div class="container"><div class="_1g6gzzm0"><h1 class="post-detail-module_h1__iVVvj _1g6gzzm1">Next.js App Router에서 로컬 HTTPS 설정하기</h1><span class="_1g6gzzm2">2024.11.10</span><ul class="tags-module_tags__r6foZ _1g6gzzm3"><li class="tags-module_tag__EODVP tags-module_tag-md__WIDM8 _1g6gzzm4">Next.js</li></ul></div><p class="post-detail-module_p__Aa2B9">Next.js로 어드민을 신규 개발하면서 로컬 환경에 HTTPS 환경을 구축한 경험을 공유하고자 한다.</p>
<p class="post-detail-module_p__Aa2B9">회사 프로젝트는 Mac(M1)에서 Next.js 14 App Router 버전으로 진행되었으며, 이 글에서 사용한 프로젝트는 Mac(M1)에서 Next.js 15 App Router 버전으로 진행되었다. 마지막에 next.config.js 설정 관련 부분을 제외하면 두 버전은 차이가 없다.</p>
<h2 class="post-detail-module_h2__EwHhX">이슈 발생 배경</h2>
<p class="post-detail-module_p__Aa2B9">아이디와 비밀번호를 입력한 후 이를 API 서버에 전송한 후 API 서버가 발급해준 쿠키를 웹 브라우저에 설정하는 작업을 진행하고 있었다. 쿠키를 가지고 오는 것 까지는 문제가 없었는데 개발자 도구를 확인해보면 쿠키가 브라우저에 저장이 되지 않고 있었다.</p>
<h2 class="post-detail-module_h2__EwHhX">이슈 원인 파악</h2>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="쿠키 경고 메시지 확인" loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-2.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-2.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">쿠키 경고 메시지 확인</figcaption></figure>
<div class="kh48qt0 expressive-code"><style>.expressive-code{font-family:var(--ec-uiFontFml);font-size:var(--ec-uiFontSize);font-weight:var(--ec-uiFontWg);line-height:var(--ec-uiLineHt);text-size-adjust:none;-webkit-text-size-adjust:none}.expressive-code *:not(:is(svg, svg *)){all:revert;box-sizing:border-box}.expressive-code pre{display:flex;margin:0;padding:0;border:var(--ec-brdWd) solid var(--ec-brdCol);border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));background:var(--ec-codeBg)}.expressive-code pre:focus-visible{outline:3px solid var(--ec-focusBrd);outline-offset:-3px}.expressive-code pre > code{all:unset;display:block;flex:1 0 100%;padding:var(--ec-codePadBlk) 0;color:var(--ec-codeFg);font-family:var(--ec-codeFontFml);font-size:var(--ec-codeFontSize);font-weight:var(--ec-codeFontWg);line-height:var(--ec-codeLineHt)}.expressive-code pre{overflow-x:auto}.expressive-code pre.wrap .ec-line .code{white-space:pre-wrap;overflow-wrap:break-word;min-width:min(20ch, var(--ecMaxLine, 20ch))}.expressive-code pre.wrap .ec-line .code span.indent{white-space:pre}.expressive-code pre::-webkit-scrollbar,.expressive-code pre::-webkit-scrollbar-track{background-color:inherit;border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));border-top-left-radius:0;border-top-right-radius:0}.expressive-code pre::-webkit-scrollbar-thumb{background-color:var(--ec-sbThumbCol);border:4px solid transparent;background-clip:content-box;border-radius:10px}.expressive-code pre::-webkit-scrollbar-thumb:hover{background-color:var(--ec-sbThumbHoverCol)}.expressive-code .ec-line{direction:ltr;unicode-bidi:isolate;display:grid;grid-template-areas:'gutter code';grid-template-columns:auto 1fr;position:relative}.expressive-code .ec-line .gutter{grid-area:gutter;color:var(--ec-gtrFg)}.expressive-code .ec-line .gutter > *{pointer-events:none;user-select:none;-webkit-user-select:none}.expressive-code .ec-line .gutter ~ .code{--ecLineBrdCol:var(--ec-gtrBrdCol)}.expressive-code .ec-line.highlight .gutter{color:var(--ec-gtrHlFg)}.expressive-code .ec-line .code{grid-area:code;position:relative;box-sizing:content-box;padding-inline-start:calc(var(--ecIndent, 0ch) + var(--ec-codePadInl) - var(--ecGtrBrdWd));padding-inline-end:var(--ec-codePadInl);text-indent:calc(var(--ecIndent, 0ch) * -1)}.expressive-code .ec-line .code::before,.expressive-code .ec-line .code::after,.expressive-code .ec-line .code :where(*){text-indent:0}.expressive-code .ec-line .code{--ecGtrBrdWd:var(--ec-gtrBrdWd);border-inline-start:var(--ecGtrBrdWd) solid var(--ecLineBrdCol, transparent)}.expressive-code .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.expressive-code .ec-line.mark{--tmLineBgCol:var(--ec-tm-markBg)}.expressive-code .ec-line.mark .code{--ecLineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line.ins{--tmLineBgCol:var(--ec-tm-insBg);--tmLabel:var(--ec-tm-insDiffIndContent)}.expressive-code .ec-line.ins .code{--ecLineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line.ins .code::before{color:var(--ec-tm-insDiffIndCol)}.expressive-code .ec-line.del{--tmLineBgCol:var(--ec-tm-delBg);--tmLabel:var(--ec-tm-delDiffIndContent)}.expressive-code .ec-line.del .code{--ecLineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line.del .code::before{color:var(--ec-tm-delDiffIndCol)}.expressive-code .ec-line.mark,.expressive-code .ec-line.ins,.expressive-code .ec-line.del{background:var(--tmLineBgCol)}.expressive-code .ec-line.mark .code,.expressive-code .ec-line.ins .code,.expressive-code .ec-line.del .code{--ecGtrBrdWd:var(--ec-tm-lineMarkerAccentWd)}.expressive-code .ec-line.mark .code::before,.expressive-code .ec-line.ins .code::before,.expressive-code .ec-line.del .code::before{display:block;position:absolute;left:0;box-sizing:border-box;content:var(--tmLabel, ' ');padding-inline-start:var(--ec-tm-lineDiffIndMargLeft);text-align:center;white-space:pre}.expressive-code .ec-line.mark.tm-label .code::before,.expressive-code .ec-line.ins.tm-label .code::before,.expressive-code .ec-line.del.tm-label .code::before{background:var(--ecLineBrdCol);padding:0 calc(var(--ec-tm-lineMarkerLabelPadInl) + var(--ec-tm-lineMarkerAccentWd)) 0 var(--ec-tm-lineMarkerLabelPadInl);color:var(--ec-tm-lineMarkerLabelCol)}.expressive-code .ec-line mark{--tmInlineBgCol:var(--ec-tm-markBg);--tmInlineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line ins{--tmInlineBgCol:var(--ec-tm-insBg);--tmInlineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line del{--tmInlineBgCol:var(--ec-tm-delBg);--tmInlineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line mark,.expressive-code .ec-line ins,.expressive-code .ec-line del{all:unset;display:inline-block;position:relative;--tmBrdL:var(--ec-tm-inlMarkerBrdWd);--tmBrdR:var(--ec-tm-inlMarkerBrdWd);--tmRadL:var(--ec-tm-inlMarkerBrdRad);--tmRadR:var(--ec-tm-inlMarkerBrdRad);margin-inline:0.025rem;padding-inline:var(--ec-tm-inlMarkerPad);border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);background:var(--tmInlineBgCol);background-clip:padding-box}.expressive-code .ec-line mark.open-start,.expressive-code .ec-line ins.open-start,.expressive-code .ec-line del.open-start{margin-inline-start:0;padding-inline-start:0;--tmBrdL:0px;--tmRadL:0}.expressive-code .ec-line mark.open-end,.expressive-code .ec-line ins.open-end,.expressive-code .ec-line del.open-end{margin-inline-end:0;padding-inline-end:0;--tmBrdR:0px;--tmRadR:0}.expressive-code .ec-line mark::before,.expressive-code .ec-line ins::before,.expressive-code .ec-line del::before{content:'';position:absolute;pointer-events:none;display:inline-block;inset:0;border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);border:var(--ec-tm-inlMarkerBrdWd) solid var(--tmInlineBrdCol);border-inline-width:var(--tmBrdL) var(--tmBrdR)}.expressive-code .frame{all:unset;position:relative;display:block;--header-border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));--tab-border-radius:calc(var(--ec-frm-edTabBrdRad) + var(--ec-brdWd));--button-spacing:0.4rem;--code-background:var(--ec-frm-edBg);border-radius:var(--header-border-radius);box-shadow:var(--ec-frm-frameBoxShdCssVal)}.expressive-code .frame .header{display:none;z-index:1;position:relative;border-radius:var(--header-border-radius) var(--header-border-radius) 0 0}.expressive-code .frame.has-title pre,.expressive-code .frame.has-title code,.expressive-code .frame.is-terminal pre,.expressive-code .frame.is-terminal code{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.expressive-code .frame .title:empty:before{content:'\a0'}.expressive-code .frame.has-title:not(.is-terminal){--button-spacing:calc(1.9rem + 2 * (var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)))}.expressive-code .frame.has-title:not(.is-terminal) .title{position:relative;color:var(--ec-frm-edActTabFg);background:var(--ec-frm-edActTabBg);background-clip:padding-box;margin-block-start:var(--ec-frm-edTabsMargBlkStart);padding:calc(var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)) var(--ec-uiPadInl);border:var(--ec-brdWd) solid var(--ec-frm-edActTabBrdCol);border-radius:var(--tab-border-radius) var(--tab-border-radius) 0 0;border-bottom:none;overflow:hidden}.expressive-code .frame.has-title:not(.is-terminal) .title::after{content:'';position:absolute;pointer-events:none;inset:0;border-top:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndTopCol);border-bottom:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndBtmCol)}.expressive-code .frame.has-title:not(.is-terminal) .header{display:flex;background:linear-gradient(to top, var(--ec-frm-edTabBarBrdBtmCol) var(--ec-brdWd), transparent var(--ec-brdWd)),linear-gradient(var(--ec-frm-edTabBarBg), var(--ec-frm-edTabBarBg));background-repeat:no-repeat;padding-inline-start:var(--ec-frm-edTabsMargInlStart)}.expressive-code .frame.has-title:not(.is-terminal) .header::before{content:'';position:absolute;pointer-events:none;inset:0;border:var(--ec-brdWd) solid var(--ec-frm-edTabBarBrdCol);border-radius:inherit;border-bottom:none}.expressive-code .frame.is-terminal{--button-spacing:calc(1.9rem + var(--ec-brdWd) + 2 * var(--ec-uiPadBlk));--code-background:var(--ec-frm-trmBg)}.expressive-code .frame.is-terminal .header{display:flex;align-items:center;justify-content:center;padding-block:var(--ec-uiPadBlk);padding-block-end:calc(var(--ec-uiPadBlk) + var(--ec-brdWd));position:relative;font-weight:500;letter-spacing:0.025ch;color:var(--ec-frm-trmTtbFg);background:var(--ec-frm-trmTtbBg);border:var(--ec-brdWd) solid var(--ec-brdCol);border-bottom:none}.expressive-code .frame.is-terminal .header::before{content:'';position:absolute;pointer-events:none;left:var(--ec-uiPadInl);width:2.1rem;height:0.56rem;line-height:0;background-color:var(--ec-frm-trmTtbDotsFg);opacity:var(--ec-frm-trmTtbDotsOpa);-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 16' preserveAspectRatio='xMidYMid meet'%3E%3Ccircle cx='8' cy='8' r='8'/%3E%3Ccircle cx='30' cy='8' r='8'/%3E%3Ccircle cx='52' cy='8' r='8'/%3E%3C/svg%3E");-webkit-mask-repeat:no-repeat;mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 16' preserveAspectRatio='xMidYMid meet'%3E%3Ccircle cx='8' cy='8' r='8'/%3E%3Ccircle cx='30' cy='8' r='8'/%3E%3Ccircle cx='52' cy='8' r='8'/%3E%3C/svg%3E");mask-repeat:no-repeat}.expressive-code .frame.is-terminal .header::after{content:'';position:absolute;pointer-events:none;inset:0;border-bottom:var(--ec-brdWd) solid var(--ec-frm-trmTtbBrdBtmCol)}.expressive-code .frame pre{background:var(--code-background)}.expressive-code .copy{display:flex;gap:0.25rem;flex-direction:row;position:absolute;inset-block-start:calc(var(--ec-brdWd) + var(--button-spacing));inset-inline-end:calc(var(--ec-brdWd) + var(--ec-uiPadInl) / 2)}@media (scripting: none){.expressive-code .copy{display:none}}.expressive-code .copy{direction:ltr;unicode-bidi:isolate}.expressive-code .copy button{position:relative;align-self:flex-end;margin:0;padding:0;border:none;border-radius:0.2rem;z-index:1;cursor:pointer;transition-property:opacity, background, border-color;transition-duration:0.2s;transition-timing-function:cubic-bezier(0.25, 0.46, 0.45, 0.94);width:2.5rem;height:2.5rem;background:var(--code-background);opacity:0.75}.expressive-code .copy button div{position:absolute;inset:0;border-radius:inherit;background:var(--ec-frm-inlBtnBg);opacity:var(--ec-frm-inlBtnBgIdleOpa);transition-property:inherit;transition-duration:inherit;transition-timing-function:inherit}.expressive-code .copy button::before{content:'';position:absolute;pointer-events:none;inset:0;border-radius:inherit;border:var(--ec-brdWd) solid var(--ec-frm-inlBtnBrd);opacity:var(--ec-frm-inlBtnBrdOpa)}.expressive-code .copy button::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-frm-inlBtnFg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.75'%3E%3Cpath d='M3 19a2 2 0 0 1-1-2V2a2 2 0 0 1 1-1h13a2 2 0 0 1 2 1'/%3E%3Crect x='6' y='5' width='16' height='18' rx='1.5' ry='1.5'/%3E%3C/svg%3E");-webkit-mask-repeat:no-repeat;mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.75'%3E%3Cpath d='M3 19a2 2 0 0 1-1-2V2a2 2 0 0 1 1-1h13a2 2 0 0 1 2 1'/%3E%3Crect x='6' y='5' width='16' height='18' rx='1.5' ry='1.5'/%3E%3C/svg%3E");mask-repeat:no-repeat;margin:0.475rem;line-height:0}.expressive-code .copy button:hover,.expressive-code .copy button:focus:focus-visible{opacity:1}.expressive-code .copy button:hover div,.expressive-code .copy button:focus:focus-visible div{opacity:var(--ec-frm-inlBtnBgHoverOrFocusOpa)}.expressive-code .copy button:active{opacity:1}.expressive-code .copy button:active div{opacity:var(--ec-frm-inlBtnBgActOpa)}.expressive-code .copy .feedback{--tooltip-arrow-size:0.35rem;--tooltip-bg:var(--ec-frm-tooltipSuccessBg);color:var(--ec-frm-tooltipSuccessFg);pointer-events:none;user-select:none;-webkit-user-select:none;position:relative;align-self:center;background-color:var(--tooltip-bg);z-index:99;padding:0.125rem 0.75rem;border-radius:0.2rem;margin-inline-end:var(--tooltip-arrow-size);opacity:0;transition-property:opacity, transform;transition-duration:0.2s;transition-timing-function:ease-in-out;transform:translate3d(0, 0.25rem, 0)}.expressive-code .copy .feedback::after{content:'';position:absolute;pointer-events:none;top:calc(50% - var(--tooltip-arrow-size));inset-inline-end:calc(-2 * (var(--tooltip-arrow-size) - 0.5px));border:var(--tooltip-arrow-size) solid transparent;border-inline-start-color:var(--tooltip-bg)}.expressive-code .copy .feedback.show{opacity:1;transform:translate3d(0, 0, 0)}@media (hover: hover){.expressive-code{}.expressive-code .copy button{opacity:0;width:2rem;height:2rem}.expressive-code .frame:hover .copy button:not(:hover),.expressive-code .frame:focus-within :focus-visible ~ .copy button:not(:hover),.expressive-code .frame .copy .feedback.show ~ button:not(:hover){opacity:0.75}}.expressive-code :nth-child(1 of .ec-line) .code{padding-inline-end:calc(2rem + var(--ec-codePadInl))}.expressive-code .ec-section{position:relative}.expressive-code .ec-section summary{position:relative;font-family:var(--ec-cs-closedFontFml);font-size:var(--ec-cs-closedFontSize);line-height:var(--ec-cs-closedLineHt);user-select:none;-webkit-user-select:none;cursor:pointer;color:var(--ec-cs-closedTextCol);background-color:var(--ec-cs-closedBgCol);--border-color:var(--ec-cs-closedBrdCol);--border-width:var(--ec-cs-closedBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);margin:var(--ec-cs-closedMarg);padding:0}.expressive-code .ec-section summary::marker{display:inline-block;content:"";width:16px;height:16px}.expressive-code .ec-section summary::-webkit-details-marker{display:none}.expressive-code .ec-section summary :is(.expand, .collapse){position:relative;display:inline-block;width:16px;height:16px;vertical-align:text-bottom;opacity:0.75}.expressive-code .ec-section summary :is(.expand, .collapse)::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-cs-closedTextCol);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;line-height:0}.expressive-code .ec-section summary .expand::after{-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E");-webkit-print-color-adjust:exact;print-color-adjust:exact}.expressive-code .ec-section summary .collapse{display:none}.expressive-code .ec-section summary .collapse::after{-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M10.896 2H8.75V.75a.75.75 0 0 0-1.5 0V2H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 2ZM8.75 15.25a.75.75 0 0 1-1.5 0V14H5.104a.25.25 0 0 1-.177-.427l2.896-2.896a.25.25 0 0 1 .354 0l2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25Zm-6.5-6.5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M10.896 2H8.75V.75a.75.75 0 0 0-1.5 0V2H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 2ZM8.75 15.25a.75.75 0 0 1-1.5 0V14H5.104a.25.25 0 0 1-.177-.427l2.896-2.896a.25.25 0 0 1 .354 0l2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25Zm-6.5-6.5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E")}.expressive-code .ec-section summary .text{margin-left:1em}.expressive-code .ec-section summary .ec-line .code{padding-block:var(--ec-cs-closedPadBlk);text-indent:0}.expressive-code .ec-section[open],.expressive-code .ec-section details[open] + .content-lines{--border-color:var(--ec-cs-openBrdCol);--border-width:var(--ec-cs-openBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);padding-inline:var(--ec-cs-openPad);margin-inline:var(--ec-cs-openMarg)}.expressive-code .ec-section.github[open] summary{display:none}.expressive-code .ec-section.github[open]{background-color:var(--ec-cs-openBgCol)}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end){display:flex;flex-direction:column}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) .content-lines{display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] .collapse{display:inline-block}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] :is(.expand, .text){display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] + .content-lines{display:block;background-color:var(--ec-cs-openBgColCollapsible)}@media print{.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open]{display:none}}.expressive-code .ec-section.collapsible-end{flex-direction:column-reverse}.expressive-code .gutter .ln{display:inline-flex;justify-content:flex-end;align-items:flex-start;box-sizing:content-box;min-width:var(--lnWidth, 2ch);padding-inline:2ch;color:var(--ec-lineNumbers-fg)}.highlight .expressive-code .gutter .ln{color:var(--ec-lineNumbers-hlFg)}:root,:root:not([data-theme='one-light']) .expressive-code[data-theme='one-light']{--ec-brdRad:0.3rem;--ec-brdWd:1.5px;--ec-brdCol:#d4d4d4;--ec-codeFontFml:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;--ec-codeFontSize:0.85rem;--ec-codeFontWg:400;--ec-codeLineHt:1.65;--ec-codePadBlk:1rem;--ec-codePadInl:1.35rem;--ec-codeBg:#fafafa;--ec-codeFg:#383a42;--ec-codeSelBg:#e5e5e6;--ec-gtrFg:#8a8a8c;--ec-gtrBrdCol:#8a8a8c33;--ec-gtrBrdWd:1.5px;--ec-gtrHlFg:#383a42bc;--ec-uiFontFml:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';--ec-uiFontSize:0.9rem;--ec-uiFontWg:400;--ec-uiLineHt:1.65;--ec-uiPadBlk:0.25rem;--ec-uiPadInl:1rem;--ec-uiSelBg:#dbdbdc;--ec-uiSelFg:#232324;--ec-focusBrd:#526fff;--ec-sbThumbCol:#4e56666e;--ec-sbThumbHoverCol:#5a637597;--ec-tm-lineMarkerAccentMarg:0rem;--ec-tm-lineMarkerAccentWd:0.15rem;--ec-tm-lineMarkerLabelPadInl:0.2rem;--ec-tm-lineMarkerLabelCol:white;--ec-tm-lineDiffIndMargLeft:0.3rem;--ec-tm-inlMarkerBrdWd:1.5px;--ec-tm-inlMarkerBrdRad:0.2rem;--ec-tm-inlMarkerPad:0.15rem;--ec-tm-insDiffIndContent:'+';--ec-tm-delDiffIndContent:'-';--ec-tm-markBg:#9fb6ff80;--ec-tm-markBrdCol:#5570b3d0;--ec-tm-insBg:#94c68480;--ec-tm-insBrdCol:#4e7e41d0;--ec-tm-insDiffIndCol:#3a692fd0;--ec-tm-delBg:#fea09280;--ec-tm-delBrdCol:#ae594fd0;--ec-tm-delDiffIndCol:#97453dd0;--ec-frm-shdCol:#00000028;--ec-frm-frameBoxShdCssVal:0.1rem 0.1rem 0.2rem #00000028;--ec-frm-edActTabBg:#fafafa;--ec-frm-edActTabFg:#121417;--ec-frm-edActTabBrdCol:transparent;--ec-frm-edActTabIndHt:1.5px;--ec-frm-edActTabIndTopCol:null;--ec-frm-edActTabIndBtmCol:null;--ec-frm-edTabsMargInlStart:0;--ec-frm-edTabsMargBlkStart:0;--ec-frm-edTabBrdRad:0.3rem;--ec-frm-edTabBarBg:#eaeaeb;--ec-frm-edTabBarBrdCol:#d4d4d4;--ec-frm-edTabBarBrdBtmCol:transparent;--ec-frm-edBg:#fafafa;--ec-frm-trmTtbFg:#424243;--ec-frm-trmTtbDotsFg:#424243;--ec-frm-trmTtbDotsOpa:0.15;--ec-frm-trmTtbBg:#eaeaeb;--ec-frm-trmTtbBrdBtmCol:#d4d4d4;--ec-frm-trmBg:#fafafa;--ec-frm-inlBtnFg:#383a42;--ec-frm-inlBtnBg:#383a42;--ec-frm-inlBtnBgIdleOpa:0;--ec-frm-inlBtnBgHoverOrFocusOpa:0.2;--ec-frm-inlBtnBgActOpa:0.3;--ec-frm-inlBtnBrd:#383a42;--ec-frm-inlBtnBrdOpa:0.4;--ec-frm-tooltipSuccessBg:#008900;--ec-frm-tooltipSuccessFg:white;--ec-cs-closedBrdWd:0;--ec-cs-closedPadBlk:4px;--ec-cs-closedMarg:0;--ec-cs-closedFontFml:inherit;--ec-cs-closedFontSize:inherit;--ec-cs-closedLineHt:inherit;--ec-cs-closedTextCol:#383a42;--ec-cs-closedBgCol:rgb(84 174 255 / 20%);--ec-cs-closedBrdCol:rgb(84 174 255 / 50%);--ec-cs-openBrdWd:1px;--ec-cs-openPad:0;--ec-cs-openMarg:0;--ec-cs-openBgCol:transparent;--ec-cs-openBgColCollapsible:rgb(84 174 255 / 10%);--ec-cs-openBrdCol:transparent;--ec-lineNumbers-fg:inherit;--ec-lineNumbers-hlFg:inherit}.expressive-code .ec-line :where(span[style^='--']:not([class])),:root:not([data-theme='one-light']) .expressive-code[data-theme='one-light'] .ec-line :where(span[style^='--']:not([class])){color:var(--0, inherit);font-style:var(--0fs, inherit);font-weight:var(--0fw, inherit);text-decoration:var(--0td, inherit)}</style><script type="module">try{(()=>{function a(e){if(!e)return;let t=e.getAttribute("tabindex")!==null,n=e.scrollWidth>e.clientWidth;n&&!t?e.setAttribute("tabindex","0"):!n&&t&&e.removeAttribute("tabindex")}var u=window.requestIdleCallback||(e=>setTimeout(e,1)),i=window.cancelIdleCallback||clearTimeout;function l(e){let t=new Set,n,r;return new ResizeObserver(c=>{c.forEach(o=>t.add(o.target)),n&&clearTimeout(n),r&&i(r),n=setTimeout(()=>{r&&i(r),r=u(()=>{t.forEach(o=>e(o)),t.clear()})},250)})}function d(e,t){e.querySelectorAll?.(".expressive-code pre > code").forEach(n=>{let r=n.parentElement;r&&t.observe(r)})}var s=l(a);d(document,s);var b=new MutationObserver(e=>e.forEach(t=>t.addedNodes.forEach(n=>{d(n,s)})));b.observe(document.body,{childList:!0,subtree:!0});document.addEventListener("astro:page-load",()=>{d(document,s)});})();}catch(e){console.error("[EC] tabindex-js-module failed:",e)}</script><script type="module">try{(()=>{function i(o){let e=document.createElement("pre");Object.assign(e.style,{opacity:"0",pointerEvents:"none",position:"absolute",overflow:"hidden",left:"0",top:"0",width:"20px",height:"20px",webkitUserSelect:"auto",userSelect:"all"}),e.ariaHidden="true",e.textContent=o,document.body.appendChild(e);let a=document.createRange();a.selectNode(e);let n=getSelection();if(!n)return!1;n.removeAllRanges(),n.addRange(a);let r=!1;try{r=document.execCommand("copy")}finally{n.removeAllRanges(),document.body.removeChild(e)}return r}async function l(o){let e=o.currentTarget,a=e.dataset,n=!1,r=a.code.replace(/\u007f/g,`
`);try{await navigator.clipboard.writeText(r),n=!0}catch{n=i(r)}if(!n||e.parentNode?.querySelector(".feedback"))return;let t=document.createElement("div");t.classList.add("feedback"),t.append(a.copied),e.before(t),t.offsetWidth,requestAnimationFrame(()=>t?.classList.add("show"));let c=()=>!t||t.classList.remove("show"),d=()=>{!t||parseFloat(getComputedStyle(t).opacity)>0||(t.remove(),t=void 0)};setTimeout(c,1500),setTimeout(d,2500),e.addEventListener("blur",c),t.addEventListener("transitioncancel",d),t.addEventListener("transitionend",d)}function s(o){o.querySelectorAll?.(".expressive-code .copy button").forEach(e=>e.addEventListener("click",l))}s(document);var u=new MutationObserver(o=>o.forEach(e=>e.addedNodes.forEach(a=>{s(a)})));u.observe(document.body,{childList:!0,subtree:!0});document.addEventListener("astro:page-load",()=>{s(document)});})();}catch(e){console.error("[EC] copy-js-module failed:",e)}</script><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">the attempt to set a cookie via set-cookie header was blocked because its domain attribute was invalid with regards to the current host url</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="the attempt to set a cookie via set-cookie header was blocked because its domain attribute was invalid with regards to the current host url"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">쿠키의 Domain 속성이 현재 요청을 보낸 호스트 URL과 호환되지 않아 warning과 함께 쿠키가 브라우저에 저장이 되지 않은 것이었다.</p>
<h3 class="post-detail-module_h3__LqBWz">쿠키 속성</h3>
<p class="post-detail-module_p__Aa2B9">백엔드 코드에서 쿠키 설정을 확인해보니 아래와 같았다.</p>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="json"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383A42">{</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">2</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">httpOnly</span><span style="--0:#383A42">: </span><span style="--0:#016C9A">true</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">3</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">domain</span><span style="--0:#383A42">: </span><span style="--0:#666666">NODE_ENV</span><span style="--0:#383A42"> </span><span style="--0:#666666">!==</span><span style="--0:#383A42"> </span><span style="--0:#387138">&quot;local&quot;</span><span style="--0:#383A42"> </span><span style="--0:#666666">?</span><span style="--0:#383A42"> </span><span style="--0:#387138">&quot;.domain.example&quot;</span><span style="--0:#383A42"> </span><span style="--0:#666666">:</span><span style="--0:#383A42"> </span><span style="--0:#387138">&quot;localhost&quot;</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">4</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">secure</span><span style="--0:#383A42">: </span><span style="--0:#666666">NODE_ENV</span><span style="--0:#383A42"> </span><span style="--0:#666666">!==</span><span style="--0:#383A42"> </span><span style="--0:#387138">&quot;local&quot;</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">5</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">maxAge</span><span style="--0:#383A42">: </span><span style="--0:#875D01">1000</span><span style="--0:#383A42"> </span><span style="--0:#666666">*</span><span style="--0:#383A42"> </span><span style="--0:#875D01">60</span><span style="--0:#383A42"> </span><span style="--0:#666666">*</span><span style="--0:#383A42"> </span><span style="--0:#875D01">60</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">6</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">sameSite</span><span style="--0:#383A42">: </span><span style="--0:#387138">&quot;none&quot;</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">7</div></div><div class="kh48qt0 code"><span class="indent">    </span><span style="--0:#666666">path</span><span style="--0:#383A42">: </span><span style="--0:#387138">&quot;/&quot;</span><span style="--0:#383A42">,</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">8</div></div><div class="kh48qt0 code"><span class="indent"><span style="--0:#383A42">  </span></span><span style="--0:#383A42">}</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{    httpOnly: true,    domain: NODE_ENV !== &quot;local&quot; ? &quot;.domain.example&quot; : &quot;localhost&quot;,    secure: NODE_ENV !== &quot;local&quot;,    maxAge: 1000 * 60 * 60,    sameSite: &quot;none&quot;,    path: &quot;/&quot;,  }"><div class="kh48qt0"></div></button></div></figure></div>
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">HttpOnly: JavaScript를 통해 쿠키 값에 접근하는 것을 막는다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">true 이므로 JavaScript를 통해 쿠키 값에 접근할 수 없다.</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">Domain: 해당 쿠키가 어느 도메인(및 서브도메인)에 대해 유효한지를 지정한다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">API 서버가 개발서버에 배포되었기 때문에 domain.example 도메인과 모든 하위 도메인(api.domain.example, www.domain.example 등)에서 쿠키가 사용된다.</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">Secure: HTTPS 연결을 통해서만 쿠키가 전송되도록 보장한다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">마찬가지로 https 연결을 통해서만 쿠키가 전송된다.</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">MaxAge: 쿠키의 유효 시간을 설정한다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">회사 코드 보안상의 이유로 임시로 밀리초(milliseconds) 단위로 설정했는데 일반적으로는 초(second) 단위로 설정하는 경우가 많다.</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">SameSite: 쿠키가 크로스 사이트 요청 시 어떻게 전송될지를 제어한다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">none 속성은 모든 크로스 사이트 요청에 쿠키가 전송되도록 허용하지만, 이 경우 secure 옵션이 true여야 한다</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">Path: 쿠키가 전송될 경로를 지정한다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">&quot;/&quot;로 설정되어 있으므로, 사이트 내 모든 경로에서 쿠키가 포함되어 전송된다.</li>
</ul>
</li>
</ul>
<h3 class="post-detail-module_h3__LqBWz">도메인 불일치</h3>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="어드민 작업 환경" loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-1.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-1.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">어드민 작업 환경</figcaption></figure>
<p class="post-detail-module_p__Aa2B9">로컬 환경에서 쿠키를 브라우저에 저장하려면 다음 두 가지 조건이 충족되어야 했다.</p>
<ol class="post-detail-module_ol__cgna9">
<li class="post-detail-module_li__Xzqkr">HTTPS 환경이 설정되어 있어야 한다.</li>
<li class="post-detail-module_li__Xzqkr">API 도메인과 프론트엔드 도메인이 일치하도록 구성해야 한다.</li>
</ol>
<h2 class="post-detail-module_h2__EwHhX">이슈 해결 과정</h2>
<h3 class="post-detail-module_h3__LqBWz">localhost 도메인 이름 변경</h3>
<p class="post-detail-module_p__Aa2B9">Host 파일은 컴퓨터의 운영 체제에서 사용되는 텍스트 파일로, 도메인 이름과 IP 주소를 매핑하는 역할을 한다. 네트워크 요청 시 DNS 서버를 거치지 않고 직접 매핑된 IP 주소를 사용하기 때문에 로컬 환경에서 테스트하거나 특정 도메인을 임시로 변경하는 데 유용하다.</p>
<p class="post-detail-module_p__Aa2B9">Host 파일에서 localhost의 도메인 이름 api 도메인에 맞춰 변경해주자.</p>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">sudo vi /private/etc/hosts</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo vi /private/etc/hosts"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">Mac(M1) 에서는 터미널을 실행한 후 위의 명령어로 hosts 파일을 열 수 있다.</p>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">127.0.0.1 local.kyoungah.me</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="127.0.0.1 local.kyoungah.me"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">IP와 원하는 도메인 주소를 입력하면 도메인 변경은 완료다.</p>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="IP 및 도메인 추가가 완료된 모습이다." loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-6.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-6.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">IP 및 도메인 추가가 완료된 모습이다.</figcaption></figure>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="이제 위에 설정한 도메인으로 로컬 서버에 접속할 수 있다." loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-3.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-3.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">이제 위에 설정한 도메인으로 로컬 서버에 접속할 수 있다.</figcaption></figure>
<h3 class="post-detail-module_h3__LqBWz">localhost에서 HTTPS 허용하기</h3>
<p class="post-detail-module_p__Aa2B9">다음으로 HTTP에서 동작하는 localhost를 HTTPS로 동작하게끔 해줘야 한다.</p>
<p class="post-detail-module_p__Aa2B9">HTTP에는 도청, 위장, 변조 등의 취약점이 있다. 이를 보완하기 위해 SSL(보안 소켓 계층) 또는 TLS(전송 계층 보안) 인증서를 사용하여 HTTP 통신 내용을 암호화 한다. 이러한 기술을 활용한 HTTP가 바로 HTTPS(HTTP Secure)이다.</p>
<p class="post-detail-module_p__Aa2B9">따라서 HTTPS 환경을 구축하기 위해서는 SSL 또는 TLS 인증서가 필수적이다.</p>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">brew install mkcert</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="brew install mkcert"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9"><a class="post-detail-module_link__GIS41" href="https://github.com/FiloSottile/mkcert">mkcert</a>를 사용하면 로컬에서 신뢰할 수 있는 개발 인증서를 만들 수 있다. 없으면 먼저 설치해주자.</p>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">mkcert &quot;*.kyoungah.me&quot;</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mkcert &quot;*.kyoungah.me&quot;"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">mkcert 명령어를 사용하여 원하는 도메인을 위한 SSL인증서를 생성한다.
pem, -key.pem 2개의 파일이 생성되고 해당 파일을 ssl인증서로 사용하면 된다.</p>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">mkcert &quot;*.kyoungah.me&quot; localhost 127.0.0.1</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mkcert &quot;*.kyoungah.me&quot; localhost 127.0.0.1"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">여러개의 도메인에 유효한 인증서도 생성할 수 있다.</p>
<br/>
<p class="post-detail-module_p__Aa2B9"><a class="post-detail-module_link__GIS41" href="https://nextjs.org/docs/app/api-reference/cli/next">next dev 옵션</a>을 보면 <code>--experimental-https</code>, <code>--experimental-https-key</code>, <code>--experimental-https-cert</code> 라는 옵션이 있다.</p>
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">--experimental-https는 HTTPS로 서버를 실행하게끔 해준다.<!-- -->
<ul class="post-detail-module_ul__MqZiO">
<li class="post-detail-module_li__Xzqkr">--experimental-https-key, --experimental-https-cert 옵션 없이 실행하면 자동으로 localhost SSL 인증서를 생성한다.</li>
</ul>
</li>
<li class="post-detail-module_li__Xzqkr">--experimental-https-key는 HTTPS 키 파일의 경로이다.</li>
<li class="post-detail-module_li__Xzqkr">--experimental-https-cert는 HTTPS 인증서 파일의 경로이다.</li>
</ul>
<br/>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">next dev --experimental-https --experimental-https-key _wildcard.kyoungah.me+3-key.pem --experimental-https-cert _wildcard.kyoungah.me+3.pem</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="next dev --experimental-https --experimental-https-key _wildcard.kyoungah.me+3-key.pem --experimental-https-cert _wildcard.kyoungah.me+3.pem"><div class="kh48qt0"></div></button></div></figure></div>
<p class="post-detail-module_p__Aa2B9">위에서 생성한 인증서 및 키 파일의 경로와 함께 옵션을 입력하고개발 서버를 실행한다.</p>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="https 환경 성공" loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-4.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-4.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">https 환경 성공</figcaption></figure>
<h3 class="post-detail-module_h3__LqBWz">Next.js 15</h3>
<p class="post-detail-module_p__Aa2B9">추가로 Next.js 15에서는 바뀐 url로 인해 next/font에서 호출하는 폰트가 제대로 불러지지 않는 이슈가 있다.</p>
<div class="kh48qt0 expressive-code"><figure class="post-detail-module_figure__iLVbY frame"><figcaption class="post-detail-module_caption__mebOm header"></figcaption><pre data-language="plaintext"><code><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">1</div></div><div class="kh48qt0 code"><span style="--0:#383a42">import type { NextConfig } from &quot;next&quot;;</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">2</div></div><div class="kh48qt0 code">
</div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">3</div></div><div class="kh48qt0 code"><span style="--0:#383a42">const nextConfig: NextConfig = {</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">4</div></div><div class="kh48qt0 code"><span class="indent"><span style="--0:#383a42">  </span></span><span style="--0:#383a42">/* config options here */</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">5</div></div><div class="kh48qt0 code"><span class="indent"><span style="--0:#383a42">  </span></span><span style="--0:#383a42">allowedDevOrigins: [&quot;*.kyoungah.me&quot;],</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">6</div></div><div class="kh48qt0 code"><span style="--0:#383a42">};</span></div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">7</div></div><div class="kh48qt0 code">
</div></div><div class="kh48qt0 ec-line"><div class="kh48qt0 gutter"><div class="kh48qt0 ln" aria-hidden="true">8</div></div><div class="kh48qt0 code"><span style="--0:#383a42">export default nextConfig;</span></div></div></code></pre><div class="kh48qt0 copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import type { NextConfig } from &quot;next&quot;;const nextConfig: NextConfig = {  /* config options here */  allowedDevOrigins: [&quot;*.kyoungah.me&quot;],};export default nextConfig;"><div class="kh48qt0"></div></button></div></figure></div>
<figure class="post-detail-module_figure__iLVbY rehype-figure"><img alt="https 환경 성공" loading="lazy" width="0" height="0" decoding="async" data-nimg="1" class="post-detail-module_img__m5wuU" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-5.png&amp;w=16&amp;q=75 1x" src="/_next/image?url=https%3A%2F%2Fpartykyoung.github.io%2Fdev%2Fimages%2F%2Fimages%2Fposts%2FNext.js-App-Router-%25EB%25A1%259C%25EC%25BB%25AC-%25EA%25B0%259C%25EB%25B0%259C%25ED%2599%2598%25EA%25B2%25BD%25EC%2597%2590%25EC%2584%259C-HTTPS-%25ED%2599%2598%25EA%25B2%25BD-%25EA%25B5%25AC%25EC%25B6%2595%25ED%2595%2598%25EA%25B8%25B0-5.png&amp;w=16&amp;q=75"/><figcaption class="post-detail-module_caption__mebOm">https 환경 성공</figcaption></figure>
<p class="post-detail-module_p__Aa2B9">next.config.js 파일에 allowedDevOrigins를 추가해주면 해결 된다.
Next.js 14 버전에서는 위의 작업을 따로 해주지 않아도 이슈가 발생하지 않는다.</p></div><footer class="_11cv1u40"><span>Powered by Next.js, Hosted by GitHub Pages.</span><span>©<a href="https://github.com/partykyoung" rel="noreferrer" target="_blank" class="_11cv1u41">KyoungAh</a>, All rights reserved.</span></footer><script src="/_next/static/chunks/webpack-916d3cf9079c5391.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9328,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"71\",\"static/chunks/71-79248221d46a3079.js\",\"177\",\"static/chunks/app/layout-f7cbf492592b1d12.js\"],\"QueryClientProvider\"]\n3:I[4765,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"71\",\"static/chunks/71-79248221d46a3079.js\",\"177\",\"static/chunks/app/layout-f7cbf492592b1d12.js\"],\"Header\"]\n4:I[4459,[],\"\"]\n5:I[4791,[],\"\"]\n7:I[8336,[],\"OutletBoundary\"]\na:I[8336,[],\"ViewportBoundary\"]\nc:I[8336,[],\"MetadataBoundary\"]\ne:I[8798,[],\"\"]\n:HL[\"/_next/static/media/45cca0c1391027f2-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/47cbc4e2adbc5db9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/c97d4358b5ad6f1f-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/b432f2368e6fb937.css\",\"style\"]\n:HL[\"/_next/static/css/1b0517c55006ee9e.css\",\"style\"]\n:HL[\"/_next/static/css/ca8a8c70aedbb578.css\",\"style\"]\n:HL[\"/_next/static/css/d3c42565bf5a0151.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"SvdbjzYz9bThdvwgkwPRB\",\"p\":\"\",\"c\":[\"\",\"Next.js-App-Router%EC%97%90%EC%84%9C-%EB%A1%9C%EC%BB%AC-HTTPS-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"slug\",\"Next.js-App-Router%EC%97%90%EC%84%9C-%EB%A1%9C%EC%BB%AC-HTTPS-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b432f2368e6fb937.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/1b0517c55006ee9e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ca8a8c70aedbb578.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"className\":\"__variable_66f45d __variable_9320b3 __variable_c331f0\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"$undefined\",[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"_11cv1u40\",\"children\":[[\"$\",\"span\",null,{\"children\":\"Powered by Next.js, Hosted by GitHub Pages.\"}],[\"$\",\"span\",null,{\"children\":[\"©\",[\"$\",\"a\",null,{\"href\":\"https://github.com/partykyoung\",\"rel\":\"noreferrer\",\"target\":\"_blank\",\"className\":\"_11cv1u41\",\"children\":\"KyoungAh\"}],\", All rights reserved.\"]}]]}]]}]}]}]]}],{\"children\":[[\"slug\",\"Next.js-App-Router%EC%97%90%EC%84%9C-%EB%A1%9C%EC%BB%AC-HTTPS-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",\"$undefined\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3c42565bf5a0151.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",null]}]]}],{},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"Czm_yglX8-kq5Abu7ra7y\",{\"children\":[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"9:null\nd:[[\"$\",\"link\",\"0\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"f:I[3794,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"MdxFrontMatter\"]\n10:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"P\"]\n11:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"H2\"]\n12:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Figure\"]\n13:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Img\"]\n14:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"FigureCaption\"]\n15:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Div\"]\n18:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"H3\"]\n19:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Ul\"]\n1a:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Li\"]\n1b:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559cb6d085.js\"],\"Ol\"]\n1c:I[8129,[\"378\",\"static/chunks/378-5bf6c9ea599618fb.js\",\"46\",\"static/chunks/46-5e590dde3c59d1a1.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-30f1c2559"])</script><script>self.__next_f.push([1,"cb6d085.js\"],\"Link\"]\n16:T576c,"])</script><script>self.__next_f.push([1,".expressive-code{font-family:var(--ec-uiFontFml);font-size:var(--ec-uiFontSize);font-weight:var(--ec-uiFontWg);line-height:var(--ec-uiLineHt);text-size-adjust:none;-webkit-text-size-adjust:none}.expressive-code *:not(:is(svg, svg *)){all:revert;box-sizing:border-box}.expressive-code pre{display:flex;margin:0;padding:0;border:var(--ec-brdWd) solid var(--ec-brdCol);border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));background:var(--ec-codeBg)}.expressive-code pre:focus-visible{outline:3px solid var(--ec-focusBrd);outline-offset:-3px}.expressive-code pre \u003e code{all:unset;display:block;flex:1 0 100%;padding:var(--ec-codePadBlk) 0;color:var(--ec-codeFg);font-family:var(--ec-codeFontFml);font-size:var(--ec-codeFontSize);font-weight:var(--ec-codeFontWg);line-height:var(--ec-codeLineHt)}.expressive-code pre{overflow-x:auto}.expressive-code pre.wrap .ec-line .code{white-space:pre-wrap;overflow-wrap:break-word;min-width:min(20ch, var(--ecMaxLine, 20ch))}.expressive-code pre.wrap .ec-line .code span.indent{white-space:pre}.expressive-code pre::-webkit-scrollbar,.expressive-code pre::-webkit-scrollbar-track{background-color:inherit;border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));border-top-left-radius:0;border-top-right-radius:0}.expressive-code pre::-webkit-scrollbar-thumb{background-color:var(--ec-sbThumbCol);border:4px solid transparent;background-clip:content-box;border-radius:10px}.expressive-code pre::-webkit-scrollbar-thumb:hover{background-color:var(--ec-sbThumbHoverCol)}.expressive-code .ec-line{direction:ltr;unicode-bidi:isolate;display:grid;grid-template-areas:'gutter code';grid-template-columns:auto 1fr;position:relative}.expressive-code .ec-line .gutter{grid-area:gutter;color:var(--ec-gtrFg)}.expressive-code .ec-line .gutter \u003e *{pointer-events:none;user-select:none;-webkit-user-select:none}.expressive-code .ec-line .gutter ~ .code{--ecLineBrdCol:var(--ec-gtrBrdCol)}.expressive-code .ec-line.highlight .gutter{color:var(--ec-gtrHlFg)}.expressive-code .ec-line .code{grid-area:code;position:relative;box-sizing:content-box;padding-inline-start:calc(var(--ecIndent, 0ch) + var(--ec-codePadInl) - var(--ecGtrBrdWd));padding-inline-end:var(--ec-codePadInl);text-indent:calc(var(--ecIndent, 0ch) * -1)}.expressive-code .ec-line .code::before,.expressive-code .ec-line .code::after,.expressive-code .ec-line .code :where(*){text-indent:0}.expressive-code .ec-line .code{--ecGtrBrdWd:var(--ec-gtrBrdWd);border-inline-start:var(--ecGtrBrdWd) solid var(--ecLineBrdCol, transparent)}.expressive-code .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.expressive-code .ec-line.mark{--tmLineBgCol:var(--ec-tm-markBg)}.expressive-code .ec-line.mark .code{--ecLineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line.ins{--tmLineBgCol:var(--ec-tm-insBg);--tmLabel:var(--ec-tm-insDiffIndContent)}.expressive-code .ec-line.ins .code{--ecLineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line.ins .code::before{color:var(--ec-tm-insDiffIndCol)}.expressive-code .ec-line.del{--tmLineBgCol:var(--ec-tm-delBg);--tmLabel:var(--ec-tm-delDiffIndContent)}.expressive-code .ec-line.del .code{--ecLineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line.del .code::before{color:var(--ec-tm-delDiffIndCol)}.expressive-code .ec-line.mark,.expressive-code .ec-line.ins,.expressive-code .ec-line.del{background:var(--tmLineBgCol)}.expressive-code .ec-line.mark .code,.expressive-code .ec-line.ins .code,.expressive-code .ec-line.del .code{--ecGtrBrdWd:var(--ec-tm-lineMarkerAccentWd)}.expressive-code .ec-line.mark .code::before,.expressive-code .ec-line.ins .code::before,.expressive-code .ec-line.del .code::before{display:block;position:absolute;left:0;box-sizing:border-box;content:var(--tmLabel, ' ');padding-inline-start:var(--ec-tm-lineDiffIndMargLeft);text-align:center;white-space:pre}.expressive-code .ec-line.mark.tm-label .code::before,.expressive-code .ec-line.ins.tm-label .code::before,.expressive-code .ec-line.del.tm-label .code::before{background:var(--ecLineBrdCol);padding:0 calc(var(--ec-tm-lineMarkerLabelPadInl) + var(--ec-tm-lineMarkerAccentWd)) 0 var(--ec-tm-lineMarkerLabelPadInl);color:var(--ec-tm-lineMarkerLabelCol)}.expressive-code .ec-line mark{--tmInlineBgCol:var(--ec-tm-markBg);--tmInlineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line ins{--tmInlineBgCol:var(--ec-tm-insBg);--tmInlineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line del{--tmInlineBgCol:var(--ec-tm-delBg);--tmInlineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line mark,.expressive-code .ec-line ins,.expressive-code .ec-line del{all:unset;display:inline-block;position:relative;--tmBrdL:var(--ec-tm-inlMarkerBrdWd);--tmBrdR:var(--ec-tm-inlMarkerBrdWd);--tmRadL:var(--ec-tm-inlMarkerBrdRad);--tmRadR:var(--ec-tm-inlMarkerBrdRad);margin-inline:0.025rem;padding-inline:var(--ec-tm-inlMarkerPad);border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);background:var(--tmInlineBgCol);background-clip:padding-box}.expressive-code .ec-line mark.open-start,.expressive-code .ec-line ins.open-start,.expressive-code .ec-line del.open-start{margin-inline-start:0;padding-inline-start:0;--tmBrdL:0px;--tmRadL:0}.expressive-code .ec-line mark.open-end,.expressive-code .ec-line ins.open-end,.expressive-code .ec-line del.open-end{margin-inline-end:0;padding-inline-end:0;--tmBrdR:0px;--tmRadR:0}.expressive-code .ec-line mark::before,.expressive-code .ec-line ins::before,.expressive-code .ec-line del::before{content:'';position:absolute;pointer-events:none;display:inline-block;inset:0;border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);border:var(--ec-tm-inlMarkerBrdWd) solid var(--tmInlineBrdCol);border-inline-width:var(--tmBrdL) var(--tmBrdR)}.expressive-code .frame{all:unset;position:relative;display:block;--header-border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));--tab-border-radius:calc(var(--ec-frm-edTabBrdRad) + var(--ec-brdWd));--button-spacing:0.4rem;--code-background:var(--ec-frm-edBg);border-radius:var(--header-border-radius);box-shadow:var(--ec-frm-frameBoxShdCssVal)}.expressive-code .frame .header{display:none;z-index:1;position:relative;border-radius:var(--header-border-radius) var(--header-border-radius) 0 0}.expressive-code .frame.has-title pre,.expressive-code .frame.has-title code,.expressive-code .frame.is-terminal pre,.expressive-code .frame.is-terminal code{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.expressive-code .frame .title:empty:before{content:'\\a0'}.expressive-code .frame.has-title:not(.is-terminal){--button-spacing:calc(1.9rem + 2 * (var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)))}.expressive-code .frame.has-title:not(.is-terminal) .title{position:relative;color:var(--ec-frm-edActTabFg);background:var(--ec-frm-edActTabBg);background-clip:padding-box;margin-block-start:var(--ec-frm-edTabsMargBlkStart);padding:calc(var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)) var(--ec-uiPadInl);border:var(--ec-brdWd) solid var(--ec-frm-edActTabBrdCol);border-radius:var(--tab-border-radius) var(--tab-border-radius) 0 0;border-bottom:none;overflow:hidden}.expressive-code .frame.has-title:not(.is-terminal) .title::after{content:'';position:absolute;pointer-events:none;inset:0;border-top:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndTopCol);border-bottom:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndBtmCol)}.expressive-code .frame.has-title:not(.is-terminal) .header{display:flex;background:linear-gradient(to top, var(--ec-frm-edTabBarBrdBtmCol) var(--ec-brdWd), transparent var(--ec-brdWd)),linear-gradient(var(--ec-frm-edTabBarBg), var(--ec-frm-edTabBarBg));background-repeat:no-repeat;padding-inline-start:var(--ec-frm-edTabsMargInlStart)}.expressive-code .frame.has-title:not(.is-terminal) .header::before{content:'';position:absolute;pointer-events:none;inset:0;border:var(--ec-brdWd) solid var(--ec-frm-edTabBarBrdCol);border-radius:inherit;border-bottom:none}.expressive-code .frame.is-terminal{--button-spacing:calc(1.9rem + var(--ec-brdWd) + 2 * var(--ec-uiPadBlk));--code-background:var(--ec-frm-trmBg)}.expressive-code .frame.is-terminal .header{display:flex;align-items:center;justify-content:center;padding-block:var(--ec-uiPadBlk);padding-block-end:calc(var(--ec-uiPadBlk) + var(--ec-brdWd));position:relative;font-weight:500;letter-spacing:0.025ch;color:var(--ec-frm-trmTtbFg);background:var(--ec-frm-trmTtbBg);border:var(--ec-brdWd) solid var(--ec-brdCol);border-bottom:none}.expressive-code .frame.is-terminal .header::before{content:'';position:absolute;pointer-events:none;left:var(--ec-uiPadInl);width:2.1rem;height:0.56rem;line-height:0;background-color:var(--ec-frm-trmTtbDotsFg);opacity:var(--ec-frm-trmTtbDotsOpa);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 16' preserveAspectRatio='xMidYMid meet'%3E%3Ccircle cx='8' cy='8' r='8'/%3E%3Ccircle cx='30' cy='8' r='8'/%3E%3Ccircle cx='52' cy='8' r='8'/%3E%3C/svg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 16' preserveAspectRatio='xMidYMid meet'%3E%3Ccircle cx='8' cy='8' r='8'/%3E%3Ccircle cx='30' cy='8' r='8'/%3E%3Ccircle cx='52' cy='8' r='8'/%3E%3C/svg%3E\");mask-repeat:no-repeat}.expressive-code .frame.is-terminal .header::after{content:'';position:absolute;pointer-events:none;inset:0;border-bottom:var(--ec-brdWd) solid var(--ec-frm-trmTtbBrdBtmCol)}.expressive-code .frame pre{background:var(--code-background)}.expressive-code .copy{display:flex;gap:0.25rem;flex-direction:row;position:absolute;inset-block-start:calc(var(--ec-brdWd) + var(--button-spacing));inset-inline-end:calc(var(--ec-brdWd) + var(--ec-uiPadInl) / 2)}@media (scripting: none){.expressive-code .copy{display:none}}.expressive-code .copy{direction:ltr;unicode-bidi:isolate}.expressive-code .copy button{position:relative;align-self:flex-end;margin:0;padding:0;border:none;border-radius:0.2rem;z-index:1;cursor:pointer;transition-property:opacity, background, border-color;transition-duration:0.2s;transition-timing-function:cubic-bezier(0.25, 0.46, 0.45, 0.94);width:2.5rem;height:2.5rem;background:var(--code-background);opacity:0.75}.expressive-code .copy button div{position:absolute;inset:0;border-radius:inherit;background:var(--ec-frm-inlBtnBg);opacity:var(--ec-frm-inlBtnBgIdleOpa);transition-property:inherit;transition-duration:inherit;transition-timing-function:inherit}.expressive-code .copy button::before{content:'';position:absolute;pointer-events:none;inset:0;border-radius:inherit;border:var(--ec-brdWd) solid var(--ec-frm-inlBtnBrd);opacity:var(--ec-frm-inlBtnBrdOpa)}.expressive-code .copy button::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-frm-inlBtnFg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.75'%3E%3Cpath d='M3 19a2 2 0 0 1-1-2V2a2 2 0 0 1 1-1h13a2 2 0 0 1 2 1'/%3E%3Crect x='6' y='5' width='16' height='18' rx='1.5' ry='1.5'/%3E%3C/svg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.75'%3E%3Cpath d='M3 19a2 2 0 0 1-1-2V2a2 2 0 0 1 1-1h13a2 2 0 0 1 2 1'/%3E%3Crect x='6' y='5' width='16' height='18' rx='1.5' ry='1.5'/%3E%3C/svg%3E\");mask-repeat:no-repeat;margin:0.475rem;line-height:0}.expressive-code .copy button:hover,.expressive-code .copy button:focus:focus-visible{opacity:1}.expressive-code .copy button:hover div,.expressive-code .copy button:focus:focus-visible div{opacity:var(--ec-frm-inlBtnBgHoverOrFocusOpa)}.expressive-code .copy button:active{opacity:1}.expressive-code .copy button:active div{opacity:var(--ec-frm-inlBtnBgActOpa)}.expressive-code .copy .feedback{--tooltip-arrow-size:0.35rem;--tooltip-bg:var(--ec-frm-tooltipSuccessBg);color:var(--ec-frm-tooltipSuccessFg);pointer-events:none;user-select:none;-webkit-user-select:none;position:relative;align-self:center;background-color:var(--tooltip-bg);z-index:99;padding:0.125rem 0.75rem;border-radius:0.2rem;margin-inline-end:var(--tooltip-arrow-size);opacity:0;transition-property:opacity, transform;transition-duration:0.2s;transition-timing-function:ease-in-out;transform:translate3d(0, 0.25rem, 0)}.expressive-code .copy .feedback::after{content:'';position:absolute;pointer-events:none;top:calc(50% - var(--tooltip-arrow-size));inset-inline-end:calc(-2 * (var(--tooltip-arrow-size) - 0.5px));border:var(--tooltip-arrow-size) solid transparent;border-inline-start-color:var(--tooltip-bg)}.expressive-code .copy .feedback.show{opacity:1;transform:translate3d(0, 0, 0)}@media (hover: hover){.expressive-code{}.expressive-code .copy button{opacity:0;width:2rem;height:2rem}.expressive-code .frame:hover .copy button:not(:hover),.expressive-code .frame:focus-within :focus-visible ~ .copy button:not(:hover),.expressive-code .frame .copy .feedback.show ~ button:not(:hover){opacity:0.75}}.expressive-code :nth-child(1 of .ec-line) .code{padding-inline-end:calc(2rem + var(--ec-codePadInl))}.expressive-code .ec-section{position:relative}.expressive-code .ec-section summary{position:relative;font-family:var(--ec-cs-closedFontFml);font-size:var(--ec-cs-closedFontSize);line-height:var(--ec-cs-closedLineHt);user-select:none;-webkit-user-select:none;cursor:pointer;color:var(--ec-cs-closedTextCol);background-color:var(--ec-cs-closedBgCol);--border-color:var(--ec-cs-closedBrdCol);--border-width:var(--ec-cs-closedBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);margin:var(--ec-cs-closedMarg);padding:0}.expressive-code .ec-section summary::marker{display:inline-block;content:\"\";width:16px;height:16px}.expressive-code .ec-section summary::-webkit-details-marker{display:none}.expressive-code .ec-section summary :is(.expand, .collapse){position:relative;display:inline-block;width:16px;height:16px;vertical-align:text-bottom;opacity:0.75}.expressive-code .ec-section summary :is(.expand, .collapse)::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-cs-closedTextCol);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;line-height:0}.expressive-code .ec-section summary .expand::after{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E\");-webkit-print-color-adjust:exact;print-color-adjust:exact}.expressive-code .ec-section summary .collapse{display:none}.expressive-code .ec-section summary .collapse::after{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M10.896 2H8.75V.75a.75.75 0 0 0-1.5 0V2H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 2ZM8.75 15.25a.75.75 0 0 1-1.5 0V14H5.104a.25.25 0 0 1-.177-.427l2.896-2.896a.25.25 0 0 1 .354 0l2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25Zm-6.5-6.5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M10.896 2H8.75V.75a.75.75 0 0 0-1.5 0V2H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 2ZM8.75 15.25a.75.75 0 0 1-1.5 0V14H5.104a.25.25 0 0 1-.177-.427l2.896-2.896a.25.25 0 0 1 .354 0l2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25Zm-6.5-6.5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z'/%3E%3C/svg%3E\")}.expressive-code .ec-section summary .text{margin-left:1em}.expressive-code .ec-section summary .ec-line .code{padding-block:var(--ec-cs-closedPadBlk);text-indent:0}.expressive-code .ec-section[open],.expressive-code .ec-section details[open] + .content-lines{--border-color:var(--ec-cs-openBrdCol);--border-width:var(--ec-cs-openBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);padding-inline:var(--ec-cs-openPad);margin-inline:var(--ec-cs-openMarg)}.expressive-code .ec-section.github[open] summary{display:none}.expressive-code .ec-section.github[open]{background-color:var(--ec-cs-openBgCol)}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end){display:flex;flex-direction:column}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) .content-lines{display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] .collapse{display:inline-block}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] :is(.expand, .text){display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] + .content-lines{display:block;background-color:var(--ec-cs-openBgColCollapsible)}@media print{.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open]{display:none}}.expressive-code .ec-section.collapsible-end{flex-direction:column-reverse}.expressive-code .gutter .ln{display:inline-flex;justify-content:flex-end;align-items:flex-start;box-sizing:content-box;min-width:var(--lnWidth, 2ch);padding-inline:2ch;color:var(--ec-lineNumbers-fg)}.highlight .expressive-code .gutter .ln{color:var(--ec-lineNumbers-hlFg)}:root,:root:not([data-theme='one-light']) .expressive-code[data-theme='one-light']{--ec-brdRad:0.3rem;--ec-brdWd:1.5px;--ec-brdCol:#d4d4d4;--ec-codeFontFml:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;--ec-codeFontSize:0.85rem;--ec-codeFontWg:400;--ec-codeLineHt:1.65;--ec-codePadBlk:1rem;--ec-codePadInl:1.35rem;--ec-codeBg:#fafafa;--ec-codeFg:#383a42;--ec-codeSelBg:#e5e5e6;--ec-gtrFg:#8a8a8c;--ec-gtrBrdCol:#8a8a8c33;--ec-gtrBrdWd:1.5px;--ec-gtrHlFg:#383a42bc;--ec-uiFontFml:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';--ec-uiFontSize:0.9rem;--ec-uiFontWg:400;--ec-uiLineHt:1.65;--ec-uiPadBlk:0.25rem;--ec-uiPadInl:1rem;--ec-uiSelBg:#dbdbdc;--ec-uiSelFg:#232324;--ec-focusBrd:#526fff;--ec-sbThumbCol:#4e56666e;--ec-sbThumbHoverCol:#5a637597;--ec-tm-lineMarkerAccentMarg:0rem;--ec-tm-lineMarkerAccentWd:0.15rem;--ec-tm-lineMarkerLabelPadInl:0.2rem;--ec-tm-lineMarkerLabelCol:white;--ec-tm-lineDiffIndMargLeft:0.3rem;--ec-tm-inlMarkerBrdWd:1.5px;--ec-tm-inlMarkerBrdRad:0.2rem;--ec-tm-inlMarkerPad:0.15rem;--ec-tm-insDiffIndContent:'+';--ec-tm-delDiffIndContent:'-';--ec-tm-markBg:#9fb6ff80;--ec-tm-markBrdCol:#5570b3d0;--ec-tm-insBg:#94c68480;--ec-tm-insBrdCol:#4e7e41d0;--ec-tm-insDiffIndCol:#3a692fd0;--ec-tm-delBg:#fea09280;--ec-tm-delBrdCol:#ae594fd0;--ec-tm-delDiffIndCol:#97453dd0;--ec-frm-shdCol:#00000028;--ec-frm-frameBoxShdCssVal:0.1rem 0.1rem 0.2rem #00000028;--ec-frm-edActTabBg:#fafafa;--ec-frm-edActTabFg:#121417;--ec-frm-edActTabBrdCol:transparent;--ec-frm-edActTabIndHt:1.5px;--ec-frm-edActTabIndTopCol:null;--ec-frm-edActTabIndBtmCol:null;--ec-frm-edTabsMargInlStart:0;--ec-frm-edTabsMargBlkStart:0;--ec-frm-edTabBrdRad:0.3rem;--ec-frm-edTabBarBg:#eaeaeb;--ec-frm-edTabBarBrdCol:#d4d4d4;--ec-frm-edTabBarBrdBtmCol:transparent;--ec-frm-edBg:#fafafa;--ec-frm-trmTtbFg:#424243;--ec-frm-trmTtbDotsFg:#424243;--ec-frm-trmTtbDotsOpa:0.15;--ec-frm-trmTtbBg:#eaeaeb;--ec-frm-trmTtbBrdBtmCol:#d4d4d4;--ec-frm-trmBg:#fafafa;--ec-frm-inlBtnFg:#383a42;--ec-frm-inlBtnBg:#383a42;--ec-frm-inlBtnBgIdleOpa:0;--ec-frm-inlBtnBgHoverOrFocusOpa:0.2;--ec-frm-inlBtnBgActOpa:0.3;--ec-frm-inlBtnBrd:#383a42;--ec-frm-inlBtnBrdOpa:0.4;--ec-frm-tooltipSuccessBg:#008900;--ec-frm-tooltipSuccessFg:white;--ec-cs-closedBrdWd:0;--ec-cs-closedPadBlk:4px;--ec-cs-closedMarg:0;--ec-cs-closedFontFml:inherit;--ec-cs-closedFontSize:inherit;--ec-cs-closedLineHt:inherit;--ec-cs-closedTextCol:#383a42;--ec-cs-closedBgCol:rgb(84 174 255 / 20%);--ec-cs-closedBrdCol:rgb(84 174 255 / 50%);--ec-cs-openBrdWd:1px;--ec-cs-openPad:0;--ec-cs-openMarg:0;--ec-cs-openBgCol:transparent;--ec-cs-openBgColCollapsible:rgb(84 174 255 / 10%);--ec-cs-openBrdCol:transparent;--ec-lineNumbers-fg:inherit;--ec-lineNumbers-hlFg:inherit}.expressive-code .ec-line :where(span[style^='--']:not([class])),:root:not([data-theme='one-light']) .expressive-code[data-theme='one-light'] .ec-line :where(span[style^='--']:not([class])){color:var(--0, inherit);font-style:var(--0fs, inherit);font-weight:var(--0fw, inherit);text-decoration:var(--0td, inherit)}"])</script><script>self.__next_f.push([1,"17:T602,try{(()=\u003e{function i(o){let e=document.createElement(\"pre\");Object.assign(e.style,{opacity:\"0\",pointerEvents:\"none\",position:\"absolute\",overflow:\"hidden\",left:\"0\",top:\"0\",width:\"20px\",height:\"20px\",webkitUserSelect:\"auto\",userSelect:\"all\"}),e.ariaHidden=\"true\",e.textContent=o,document.body.appendChild(e);let a=document.createRange();a.selectNode(e);let n=getSelection();if(!n)return!1;n.removeAllRanges(),n.addRange(a);let r=!1;try{r=document.execCommand(\"copy\")}finally{n.removeAllRanges(),document.body.removeChild(e)}return r}async function l(o){let e=o.currentTarget,a=e.dataset,n=!1,r=a.code.replace(/\\u007f/g,`\n`);try{await navigator.clipboard.writeText(r),n=!0}catch{n=i(r)}if(!n||e.parentNode?.querySelector(\".feedback\"))return;let t=document.createElement(\"div\");t.classList.add(\"feedback\"),t.append(a.copied),e.before(t),t.offsetWidth,requestAnimationFrame(()=\u003et?.classList.add(\"show\"));let c=()=\u003e!t||t.classList.remove(\"show\"),d=()=\u003e{!t||parseFloat(getComputedStyle(t).opacity)\u003e0||(t.remove(),t=void 0)};setTimeout(c,1500),setTimeout(d,2500),e.addEventListener(\"blur\",c),t.addEventListener(\"transitioncancel\",d),t.addEventListener(\"transitionend\",d)}function s(o){o.querySelectorAll?.(\".expressive-code .copy button\").forEach(e=\u003ee.addEventListener(\"click\",l))}s(document);var u=new MutationObserver(o=\u003eo.forEach(e=\u003ee.addedNodes.forEach(a=\u003e{s(a)})));u.observe(document.body,{childList:!0,subtree:!0});document.addEventListener(\"astro:page-load\",()=\u003e{s(document)});})();}catch(e){console.error(\"[EC] copy-js-module failed:\",e)}"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"$Lf\",null,{\"title\":\"Next.js App Router에서 로컬 HTTPS 설정하기\",\"date\":\"$D2024-11-10T14:31:26.000Z\",\"tags\":[\"Next.js\"]}],[[\"$\",\"$L10\",null,{\"children\":\"Next.js로 어드민을 신규 개발하면서 로컬 환경에 HTTPS 환경을 구축한 경험을 공유하고자 한다.\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"회사 프로젝트는 Mac(M1)에서 Next.js 14 App Router 버전으로 진행되었으며, 이 글에서 사용한 프로젝트는 Mac(M1)에서 Next.js 15 App Router 버전으로 진행되었다. 마지막에 next.config.js 설정 관련 부분을 제외하면 두 버전은 차이가 없다.\"}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"이슈 발생 배경\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"아이디와 비밀번호를 입력한 후 이를 API 서버에 전송한 후 API 서버가 발급해준 쿠키를 웹 브라우저에 설정하는 작업을 진행하고 있었다. 쿠키를 가지고 오는 것 까지는 문제가 없었는데 개발자 도구를 확인해보면 쿠키가 브라우저에 저장이 되지 않고 있었다.\"}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"이슈 원인 파악\"}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-2.png\",\"alt\":\"쿠키 경고 메시지 확인\"}],[\"$\",\"$L14\",null,{\"children\":\"쿠키 경고 메시지 확인\"}]]}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[[\"$\",\"style\",null,{\"children\":\"$16\"}],[\"$\",\"script\",null,{\"type\":\"module\",\"children\":\"try{(()=\u003e{function a(e){if(!e)return;let t=e.getAttribute(\\\"tabindex\\\")!==null,n=e.scrollWidth\u003ee.clientWidth;n\u0026\u0026!t?e.setAttribute(\\\"tabindex\\\",\\\"0\\\"):!n\u0026\u0026t\u0026\u0026e.removeAttribute(\\\"tabindex\\\")}var u=window.requestIdleCallback||(e=\u003esetTimeout(e,1)),i=window.cancelIdleCallback||clearTimeout;function l(e){let t=new Set,n,r;return new ResizeObserver(c=\u003e{c.forEach(o=\u003et.add(o.target)),n\u0026\u0026clearTimeout(n),r\u0026\u0026i(r),n=setTimeout(()=\u003e{r\u0026\u0026i(r),r=u(()=\u003e{t.forEach(o=\u003ee(o)),t.clear()})},250)})}function d(e,t){e.querySelectorAll?.(\\\".expressive-code pre \u003e code\\\").forEach(n=\u003e{let r=n.parentElement;r\u0026\u0026t.observe(r)})}var s=l(a);d(document,s);var b=new MutationObserver(e=\u003ee.forEach(t=\u003et.addedNodes.forEach(n=\u003e{d(n,s)})));b.observe(document.body,{childList:!0,subtree:!0});document.addEventListener(\\\"astro:page-load\\\",()=\u003e{d(document,s)});})();}catch(e){console.error(\\\"[EC] tabindex-js-module failed:\\\",e)}\"}],[\"$\",\"script\",null,{\"type\":\"module\",\"children\":\"$17\"}],[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"the attempt to set a cookie via set-cookie header was blocked because its domain attribute was invalid with regards to the current host url\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"the attempt to set a cookie via set-cookie header was blocked because its domain attribute was invalid with regards to the current host url\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"쿠키의 Domain 속성이 현재 요청을 보낸 호스트 URL과 호환되지 않아 warning과 함께 쿠키가 브라우저에 저장이 되지 않은 것이었다.\"}],\"\\n\",[\"$\",\"$L18\",null,{\"children\":\"쿠키 속성\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"백엔드 코드에서 쿠키 설정을 확인해보니 아래와 같았다.\"}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"json\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\"{\"}]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"2\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"httpOnly\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#016C9A\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"3\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"domain\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"NODE_ENV\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"!==\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\"local\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"?\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\".domain.example\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"4\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"secure\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"NODE_ENV\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"!==\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\"local\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"5\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"maxAge\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#875D01\"},\"children\":\"1000\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"*\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#875D01\"},\"children\":\"60\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"*\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#875D01\"},\"children\":\"60\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"6\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"sameSite\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\"none\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"7\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#666666\"},\"children\":\"path\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#387138\"},\"children\":\"\\\"/\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\",\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"8\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\"  \"}]}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383A42\"},\"children\":\"}\"}]]}]]}]]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"{    httpOnly: true,    domain: NODE_ENV !== \\\"local\\\" ? \\\".domain.example\\\" : \\\"localhost\\\",    secure: NODE_ENV !== \\\"local\\\",    maxAge: 1000 * 60 * 60,    sameSite: \\\"none\\\",    path: \\\"/\\\",  }\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"HttpOnly: JavaScript를 통해 쿠키 값에 접근하는 것을 막는다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"true 이므로 JavaScript를 통해 쿠키 값에 접근할 수 없다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"Domain: 해당 쿠키가 어느 도메인(및 서브도메인)에 대해 유효한지를 지정한다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"API 서버가 개발서버에 배포되었기 때문에 domain.example 도메인과 모든 하위 도메인(api.domain.example, www.domain.example 등)에서 쿠키가 사용된다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"Secure: HTTPS 연결을 통해서만 쿠키가 전송되도록 보장한다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"마찬가지로 https 연결을 통해서만 쿠키가 전송된다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"MaxAge: 쿠키의 유효 시간을 설정한다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"회사 코드 보안상의 이유로 임시로 밀리초(milliseconds) 단위로 설정했는데 일반적으로는 초(second) 단위로 설정하는 경우가 많다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"SameSite: 쿠키가 크로스 사이트 요청 시 어떻게 전송될지를 제어한다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"none 속성은 모든 크로스 사이트 요청에 쿠키가 전송되도록 허용하지만, 이 경우 secure 옵션이 true여야 한다\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"Path: 쿠키가 전송될 경로를 지정한다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"\\\"/\\\"로 설정되어 있으므로, 사이트 내 모든 경로에서 쿠키가 포함되어 전송된다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L18\",null,{\"children\":\"도메인 불일치\"}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-1.png\",\"alt\":\"어드민 작업 환경\"}],[\"$\",\"$L14\",null,{\"children\":\"어드민 작업 환경\"}]]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"로컬 환경에서 쿠키를 브라우저에 저장하려면 다음 두 가지 조건이 충족되어야 했다.\"}],\"\\n\",[\"$\",\"$L1b\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"HTTPS 환경이 설정되어 있어야 한다.\"}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"API 도메인과 프론트엔드 도메인이 일치하도록 구성해야 한다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"$L11\",null,{\"children\":\"이슈 해결 과정\"}],\"\\n\",[\"$\",\"$L18\",null,{\"children\":\"localhost 도메인 이름 변경\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"Host 파일은 컴퓨터의 운영 체제에서 사용되는 텍스트 파일로, 도메인 이름과 IP 주소를 매핑하는 역할을 한다. 네트워크 요청 시 DNS 서버를 거치지 않고 직접 매핑된 IP 주소를 사용하기 때문에 로컬 환경에서 테스트하거나 특정 도메인을 임시로 변경하는 데 유용하다.\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"Host 파일에서 localhost의 도메인 이름 api 도메인에 맞춰 변경해주자.\"}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"sudo vi /private/etc/hosts\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"sudo vi /private/etc/hosts\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"Mac(M1) 에서는 터미널을 실행한 후 위의 명령어로 hosts 파일을 열 수 있다.\"}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"127.0.0.1 local.kyoungah.me\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"127.0.0.1 local.kyoungah.me\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"IP와 원하는 도메인 주소를 입력하면 도메인 변경은 완료다.\"}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-6.png\",\"alt\":\"IP 및 도메인 추가가 완료된 모습이다.\"}],[\"$\",\"$L14\",null,{\"children\":\"IP 및 도메인 추가가 완료된 모습이다.\"}]]}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-3.png\",\"alt\":\"이제 위에 설정한 도메인으로 로컬 서버에 접속할 수 있다.\"}],[\"$\",\"$L14\",null,{\"children\":\"이제 위에 설정한 도메인으로 로컬 서버에 접속할 수 있다.\"}]]}],\"\\n\",[\"$\",\"$L18\",null,{\"children\":\"localhost에서 HTTPS 허용하기\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"다음으로 HTTP에서 동작하는 localhost를 HTTPS로 동작하게끔 해줘야 한다.\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"HTTP에는 도청, 위장, 변조 등의 취약점이 있다. 이를 보완하기 위해 SSL(보안 소켓 계층) 또는 TLS(전송 계층 보안) 인증서를 사용하여 HTTP 통신 내용을 암호화 한다. 이러한 기술을 활용한 HTTP가 바로 HTTPS(HTTP Secure)이다.\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"따라서 HTTPS 환경을 구축하기 위해서는 SSL 또는 TLS 인증서가 필수적이다.\"}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"brew install mkcert\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"brew install mkcert\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"$L1c\",null,{\"href\":\"https://github.com/FiloSottile/mkcert\",\"children\":\"mkcert\"}],\"를 사용하면 로컬에서 신뢰할 수 있는 개발 인증서를 만들 수 있다. 없으면 먼저 설치해주자.\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"mkcert \\\"*.kyoungah.me\\\"\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"mkcert \\\"*.kyoungah.me\\\"\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"mkcert 명령어를 사용하여 원하는 도메인을 위한 SSL인증서를 생성한다.\\npem, -key.pem 2개의 파일이 생성되고 해당 파일을 ssl인증서로 사용하면 된다.\"}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"mkcert \\\"*.kyoungah.me\\\" localhost 127.0.0.1\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"mkcert \\\"*.kyoungah.me\\\" localhost 127.0.0.1\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"여러개의 도메인에 유효한 인증서도 생성할 수 있다.\"}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"$L1c\",null,{\"href\":\"https://nextjs.org/docs/app/api-reference/cli/next\",\"children\":\"next dev 옵션\"}],\"을 보면 \",[\"$\",\"code\",null,{\"children\":\"--experimental-https\"}],\", \",[\"$\",\"code\",null,{\"children\":\"--experimental-https-key\"}],\", \",[\"$\",\"code\",null,{\"children\":\"--experimental-https-cert\"}],\" 라는 옵션이 있다.\"]}],\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":[\"--experimental-https는 HTTPS로 서버를 실행하게끔 해준다.\",\"\\n\",[\"$\",\"$L19\",null,{\"children\":[\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"--experimental-https-key, --experimental-https-cert 옵션 없이 실행하면 자동으로 localhost SSL 인증서를 생성한다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"--experimental-https-key는 HTTPS 키 파일의 경로이다.\"}],\"\\n\",[\"$\",\"$L1a\",null,{\"children\":\"--experimental-https-cert는 HTTPS 인증서 파일의 경로이다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"br\",null,{}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"next dev --experimental-https --experimental-https-key _wildcard.kyoungah.me+3-key.pem --experimental-https-cert _wildcard.kyoungah.me+3.pem\"}]}]]}]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"next dev --experimental-https --experimental-https-key _wildcard.kyoungah.me+3-key.pem --experimental-https-cert _wildcard.kyoungah.me+3.pem\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"위에서 생성한 인증서 및 키 파일의 경로와 함께 옵션을 입력하고개발 서버를 실행한다.\"}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-4.png\",\"alt\":\"https 환경 성공\"}],[\"$\",\"$L14\",null,{\"children\":\"https 환경 성공\"}]]}],\"\\n\",[\"$\",\"$L18\",null,{\"children\":\"Next.js 15\"}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"추가로 Next.js 15에서는 바뀐 url로 인해 next/font에서 호출하는 폰트가 제대로 불러지지 않는 이슈가 있다.\"}],\"\\n\",[\"$\",\"$L15\",null,{\"className\":\"expressive-code\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"frame\",\"children\":[[\"$\",\"$L14\",null,{\"className\":\"header\"}],[\"$\",\"pre\",null,{\"data-language\":\"plaintext\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"1\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"import type { NextConfig } from \\\"next\\\";\"}]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"2\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":\"\\n\"}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"3\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"const nextConfig: NextConfig = {\"}]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"4\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"  \"}]}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"/* config options here */\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"5\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[[\"$\",\"span\",null,{\"className\":\"indent\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"  \"}]}],[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"allowedDevOrigins: [\\\"*.kyoungah.me\\\"],\"}]]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"6\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"};\"}]}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"7\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":\"\\n\"}]]}],[\"$\",\"$L15\",null,{\"className\":\"ec-line\",\"children\":[[\"$\",\"$L15\",null,{\"className\":\"gutter\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"ln\",\"aria-hidden\":\"true\",\"children\":\"8\"}]}],[\"$\",\"$L15\",null,{\"className\":\"code\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--0\":\"#383a42\"},\"children\":\"export default nextConfig;\"}]}]]}]]}]}],[\"$\",\"$L15\",null,{\"className\":\"copy\",\"children\":[\"$\",\"button\",null,{\"title\":\"Copy to clipboard\",\"data-copied\":\"Copied!\",\"data-code\":\"import type { NextConfig } from \\\"next\\\";const nextConfig: NextConfig = {  /* config options here */  allowedDevOrigins: [\\\"*.kyoungah.me\\\"],};export default nextConfig;\",\"children\":[\"$\",\"$L15\",null,{}]}]}]]}]}],\"\\n\",[\"$\",\"$L12\",null,{\"className\":\"rehype-figure\",\"children\":[[\"$\",\"$L13\",null,{\"src\":\"/images/posts/Next.js-App-Router-%EB%A1%9C%EC%BB%AC-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-HTTPS-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-5.png\",\"alt\":\"https 환경 성공\"}],[\"$\",\"$L14\",null,{\"children\":\"https 환경 성공\"}]]}],\"\\n\",[\"$\",\"$L10\",null,{\"children\":\"next.config.js 파일에 allowedDevOrigins를 추가해주면 해결 된다.\\nNext.js 14 버전에서는 위의 작업을 따로 해주지 않아도 이슈가 발생하지 않는다.\"}]]]\n"])</script></body></html>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{71:(t,e,s)=>{s.d(e,{E1:()=>p,CP:()=>m,IT:()=>O,jE:()=>q});var i=Object.defineProperty,r=(t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,n=(t,e,s)=>r(t,"symbol"!=typeof e?e+"":e,s);function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return((null==e?void 0:e.queryKeyHashFn)||function(t){return JSON.stringify(t,(t,e)=>!function(t){if(!1===u(t))return!1;let e=t.constructor;if(void 0===e)return!0;let s=e.prototype;return!!u(s)&&!1!==Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype}(e)?e:Object.keys(e).sort().reduce((t,s)=>(t[s]=e[s],t),{}))})(t)}function h(t,e){return"function"==typeof t?t(e):t}function o(t,e){let{type:s="all",exact:i,fetchStatus:r,predicate:n,queryKey:u,stale:h}=t;if(u){if(i){if(e.queryHash!==a(u,e.options))return!1}else if(!1===function t(e,s){return e===s||typeof e==typeof s&&!!e&&!!s&&"object"==typeof e&&"object"==typeof s&&Object.keys(s).every(i=>t(e[i],s[i]))}(e.queryKey,u))return!1}if("all"!==s){let t=e.isActive();if("active"===s&&!t||"inactive"===s&&t)return!1}return("boolean"!=typeof h||e.isStale()===h)&&(!r||r===e.state.fetchStatus)&&(!n||!!n(e))}function l(t,e){var s;return!1!==h(e.enabled,t)&&t.isStaleByTime("function"==typeof(s=e.staleTime)?s(t):s)}function c(){}var f=class{onQueryUpdate(){this.notify()}notify(){this.notifyCallback()}getResult(){return this.getQuery().state}constructor(t,e){n(this,"currentQuery"),n(this,"client"),n(this,"options"),n(this,"notifyCallback",c),n(this,"updateQuery",()=>{let t=this.client.getQueryCache().build(this.client,this.options);t!==this.currentQuery&&(this.currentQuery=t,t.subscribe(this))}),n(this,"setOptions",t=>{let e=this.options,s=this.currentQuery;this.options=this.client.defaultQueryOptions(t),this.updateQuery(),this.currentQuery.setOptions(this.options),e._defaulted&&!function(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let s in t)if(t[s]!==e[s])return!1;return!0}(this.options,e)&&this.client.getQueryCache().notify(),function(t,e,s,i){return(t!==e||!1===h(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&l(t,s)}(this.currentQuery,s,this.options,e)&&this.currentQuery.fetch(),this.onQueryUpdate()}),n(this,"getQuery",()=>{let t=this.client.defaultQueryOptions(this.options);return this.client.getQueryCache().build(this.client,t)}),n(this,"subscribe",t=>{this.notifyCallback=t;let e=this.getQuery(),s=e.subscribe(this);return l(e,this.options)&&e.fetch(),()=>{s(),this.notifyCallback=c}}),this.client=t,this.options=null!=e?e:{}}},y=class{updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,null!=t?t:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}setOptions(t){this.options={...this.defaultOptions,...t},this.updateGcTime(this.options.gcTime)}constructor(t){var e,s=this;n(this,"queryKey"),n(this,"queryHash"),n(this,"gcTime"),n(this,"gcTimeout"),n(this,"options"),n(this,"state"),n(this,"initialState"),n(this,"cache"),n(this,"client"),n(this,"observers"),n(this,"defaultOptions"),n(this,"promise"),n(this,"optionalRemove",()=>{0===this.observers.length&&"idle"===this.state.fetchStatus&&this.cache.remove(this)}),n(this,"scheduleGc",()=>{this.clearGcTimeout(),function(t){return"number"==typeof t&&t>=0&&t!==1/0}(this.gcTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.gcTime))}),n(this,"subscribe",t=>(this.observers.push(t),this.clearGcTimeout(),()=>{this.observers=this.observers.filter(e=>e!==t),0===this.observers.length&&this.scheduleGc()})),n(this,"dispatch",t=>{this.state=(e=>{switch(t.type){case"failed":return{...e,error:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...{fetchStatus:"fetching",...void 0===e.data?{status:"pending",error:null}:{}}};case"success":var s;return{...e,data:t.data,dataUpdatedAt:null!==(s=t.dataUpdatedAt)&&void 0!==s?s:Date.now(),error:null,status:"success",fetchStatus:"idle"};case"error":{let{error:s}=t;return{...e,error:s,fetchStatus:"idle",status:"error"}}case"setState":return{...e,...t.state}}})(this.state),this.observers.forEach(t=>{t.notify()}),this.cache.notify()}),n(this,"fetch",()=>(this.promise||(this.promise=(async()=>{if("idle"!==this.state.fetchStatus)return this.state.data;this.dispatch({type:"fetch"});try{if(!this.options.queryFn)throw Error("Missing queryFn: '".concat(this.options.queryHash,"'"));let t=await this.options.queryFn();return this.dispatch({type:"success",data:t,dataUpdatedAt:Date.now()}),t}catch(e){let t=e instanceof Error?e:Error(String(e));throw this.dispatch({type:"error",error:t}),e}finally{this.promise=null}})()),this.promise)),n(this,"isActive",()=>this.observers.some(t=>!1!==h(t.options.enabled,this))),n(this,"isStaleByTime",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===s.state.data||!Math.max(s.state.dataUpdatedAt+(t||0)-Date.now(),0)}),this.client=t.client,this.cache=this.client.getQueryCache(),this.defaultOptions=t.defaultOptions,this.gcTime=3e5,this.queryHash=t.queryHash,this.queryKey=t.queryKey,this.options={...this.defaultOptions,...t.options},this.initialState=function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,s=void 0!==e,i=s?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdatedAt:s?null!=i?i:Date.now():0,error:null,status:s?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=null!==(e=t.state)&&void 0!==e?e:this.initialState,this.observers=[],this.promise=null,this.setOptions(t.options),this.scheduleGc()}},d=class{remove(t){let e=this.queries.get(t.queryHash);e&&(e===t&&this.queries.delete(t.queryHash),this.notify())}constructor(){var t=this;n(this,"queries"),n(this,"listeners"),n(this,"subscribe",t=>(this.listeners.add(t),()=>{this.listeners.delete(t)})),n(this,"add",t=>{!1===this.queries.has(t.queryHash)&&(this.queries.set(t.queryHash,t),this.notify())}),n(this,"get",t=>this.queries.get(t)),n(this,"getAll",()=>Array.from(this.queries.values())),n(this,"find",t=>{let e={exact:!0,...t};return this.getAll().find(t=>o(e,t))}),n(this,"findAll",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.getAll();return Object.keys(e).length>0?s.filter(t=>o(e,t)):s}),n(this,"build",(t,e,s)=>{var i;let r=e.queryKey||[],n=null!==(i=e.queryHash)&&void 0!==i?i:a(r,e),u=this.get(n);return void 0===u&&(u=new y({client:t,queryKey:r,queryHash:n,state:s,defaultOptions:t.getQueryDefaults(r),options:t.defaultQueryOptions(e)}),this.add(u)),u}),n(this,"notify",()=>{this.listeners.forEach(t=>{t()})}),this.queries=new Map,this.listeners=new Set}},p=class{constructor(t={}){n(this,"queryCache"),n(this,"defaultOptions"),n(this,"queryDefaults"),n(this,"defaultQueryOptions",t=>{if(t._defaulted)return t;let e=t.queryKey,s={...this.defaultOptions.queries||{},...this.getQueryDefaults(e),...t,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=a(s.queryKey,s)),s}),n(this,"getQueryCache",()=>this.queryCache),n(this,"getQueryDefaults",t=>{var e;if(!t)return{};let s=a(t),i=this.queryDefaults.get(s);return null!==(e=null==i?void 0:i.defaultOptions)&&void 0!==e?e:{}}),n(this,"getQueryData",t=>{let e=this.defaultQueryOptions({queryKey:t}).queryHash,s=this.queryCache.get(e);return null==s?void 0:s.state.data}),n(this,"getQueryState",t=>{var e;let s=this.defaultQueryOptions({queryKey:t}).queryHash;return null===(e=this.queryCache.get(s))||void 0===e?void 0:e.state}),n(this,"getQueriesData",t=>this.queryCache.findAll(t).map(t=>{let{queryKey:e,state:s}=t;return[e,s.data]})),this.queryCache=t.queryCache||new d,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=new Map}},g=s(7177),b=s(6685),v=(0,g.createContext)(void 0);function q(t){let e=(0,g.useContext)(v);if(t)return t;if(null==e)throw Error("No QueryClient set, use QueryClientContextProvider to set one.");return e}function m(t){let{client:e,children:s}=t;return(0,g.useEffect)(()=>(e.mount&&e.mount(),()=>{e.unmount&&e.unmount()}),[e]),(0,b.jsx)(v.Provider,{value:e,children:s})}function O(t,e){return function(t,e,s){let i=q(s),r=i.defaultQueryOptions(t),[n]=(0,g.useState)(()=>new e(i,r)),u=(0,g.useCallback)(t=>n.subscribe(t),[n]),a=(0,g.useCallback)(()=>n.getResult(),[n]);(0,g.useEffect)(()=>{n.setOptions(r)},[r,n]),(0,g.useSyncExternalStore)(u,a,a);let h=n.getResult();return{...h,isLoading:"pending"===h.status,isError:"error"===h.status,isSuccess:"success"===h.status,isFetching:"fetching"===h.fetchStatus}}(t,f,e)}}}]);